<!DOCTYPE html>
<html>
 
  <head>
  
  	<title> CI5 plus trend</title>
	<!--link rel="icon" href="favicon.ico" /-->
	<link rel="stylesheet" href="css/ci5_trend.css" type="text/css">
	<link rel="stylesheet" href="css/awesomplete.css?v=4.4.1"> 
	<script type="text/javascript" src="d3/d3.v3.min.js"></script>
	<script type="text/javascript" src="js/awesomplete.min.js"></script>
	<script type="text/javascript" src="js/ci5_trend.js"></script>

	
	
	
	 
	</head>
  	
	<body>

	<div class="">

	</div>
	
	<div id="header" >
		<div>
			<h1><a href="#"> CI5 plus trend</a></h1>
			<div class="desc">
				find description
			</div>
		</div>		
	
	</div>
	
		
	<div id="chart"></div>
	
	<div class = "div_left">

	

	<div id="input_country_container">
	<input id="input_country" /><button class="dropdown-btn" type="button"><span class="caret"></span></button>
	<form id ="country_element">

	</form>
	
	</div>
	</div>
		

		
		

</body>

	<script type="text/javascript">
		
	// variable general
	
	var margin = { top: 50, right: 150, bottom: 75, left: 225, top_page: 15, left_page: 300 },
	width = 1200 - margin.left - margin.right,
	height = 700 - margin.top - margin.bottom,
	
	XgridSize = 10 // 20*Xgrid for the range of the bar 

	var color_cancer = {};
	//color_cancer["Low HDI"] = "#D7191C";
	//color_cancer["Very High HDI"]           = "#2C7BB6";
	color_cancer[1]  = "#E66101"; // low and medium 
	color_cancer[2]  = "#2C7BB6"; // high hdi
	//color_cancer[2]  = "#ABD9E9"; // high hdi


	var ease_effect = "linear"
	var transition_time = 1000
	
	var bar_space = 1.5	// Space between bar 
	var span_year = 2015-1975  // nb of cancer shows (here top 10)
	var label_wrap = 10 // size max of a label on one line
	
	
	var var_height = 600
	var graph_width = 520
		
	

	var xScale = d3.scale.linear()
		.domain([1975, 2015])  // 
		.range([10  ,(50)* XgridSize ]);
		
	// width of the bar graphs


	
	// I define xScale and Xaxis's here because I want them as general variable 
	// So I need to use the value for the Canada Men..
	// I suppose there should be another way, to define them in the d3.csv fonction and use the data..
	
	var yScale = d3.scale.linear() 
		.domain([0, 200]) 
		.range([var_height  ,0]);
		
	var lineFunction = d3.svg.line()
		.x(function(d,i){return xScale(d.values[0].year); })
		.y(function(d,i)  { 
			return yScale(d.values[0].asr); })
		.interpolate("linear");
		
	var color_scale_10 = d3.scale.category10();
	
	var drag = d3.behavior.drag()
		.on("drag", dragmove);
	
	
	 window.onload = function()
		{
		CI5_trend()
		
	};
	
	var input_country = document.getElementById("input_country");
	var awesomplete = new Awesomplete(input_country, {
		minChars: 0,
		maxItems: 500,
		autoFirst:true,
		sort:false
	});
	
	Awesomplete.$('.dropdown-btn').addEventListener("click", function() {
		if (awesomplete.ul.childNodes.length === 0) {
			awesomplete.minChars = 0;
			awesomplete.evaluate();

		}
		else if (awesomplete.ul.hasAttribute('hidden')) {
			awesomplete.open();

		}
		else {
			awesomplete.close();
		}
	});
	
	// field autocomplete
	
	
	// text input listener
	window.addEventListener("awesomplete-select", function(e){
	  add_country(e.text.value)
	});

	
	
			
	</script >
	
 
</html>
	